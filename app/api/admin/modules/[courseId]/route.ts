export const runtime = 'nodejs';
import { NextRequest,NextResponse } from 'next/server';import { db } from '@/db/client';import { modules } from '@/db/schema';import { eq } from 'drizzle-orm';export async function GET(_:NextRequest,{params}:{params:{courseId:string}}){const rows=await db.select().from(modules).where(eq(modules.courseId,params.courseId));return NextResponse.json(rows);}export async function POST(req:NextRequest,{params}:{params:{courseId:string}}){const body=await req.json();const row=await db.insert(modules).values({courseId:params.courseId,title:body.title,position:body.position??0}).returning();return NextResponse.json(row[0]);}
