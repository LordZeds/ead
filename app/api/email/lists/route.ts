export const runtime = 'nodejs';
import { NextRequest,NextResponse } from 'next/server';import { db } from '@/db/client';import { emailLists } from '@/db/schema';export async function GET(){const rows=await db.select().from(emailLists);return NextResponse.json(rows);}export async function POST(req:NextRequest){const b=await req.json();const r=await db.insert(emailLists).values({name:b.name}).returning();return NextResponse.json(r[0]);}export async function DELETE(req:NextRequest){const {id}=await req.json();await db.delete(emailLists).where(emailLists.id.eq(id));return NextResponse.json({ok:true});}
