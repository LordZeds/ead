import { db } from '@/db/client';import { users } from '@/db/schema';import { eq } from 'drizzle-orm';import { hashPassword } from '@/lib/crypto';async function main(){const email=process.env.ADMIN_EMAIL||'admin@example.com';const pass=process.env.ADMIN_PASSWORD||'Admin123!';const exists=(await db.select().from(users).where(eq(users.email,email)).limit(1))[0];if(exists){console.log('Admin jÃ¡ existe:',email);return;}const passwordHash=await hashPassword(pass);const row=await db.insert(users).values({email,passwordHash,role:'admin',name:'Admin'}).returning();console.log('Admin criado:',row[0].id,email);}main().catch(e=>{console.error(e);process.exit(1);});
